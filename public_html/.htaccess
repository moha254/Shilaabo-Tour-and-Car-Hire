RewriteEngine On

# If the request is for an actual file or directory, serve it directly
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Forward API requests to Node.js application
RewriteRule ^api/(.*)$ http://localhost:3000/api/$1 [P,L]

# For all other requests, serve the React app's index.html
RewriteRule ^(?!api/).* /index.html [L]
